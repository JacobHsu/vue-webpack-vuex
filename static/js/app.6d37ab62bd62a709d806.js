webpackJsonp([1],{"9BiG":function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("7+uW"),c={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]};var o=e("VU/8")({name:"App"},c,!1,function(t){e("gsu9")},null,null).exports,i=e("/ocq"),u=e("Dd8w"),s=e.n(u),a=e("NYxO"),d={data:function(){return{loading:!1,productIndex:1}},computed:s()({},Object(a.d)({products:function(t){return t.products.items}}),Object(a.c)("products",{productIsInStock:"productIsInStock"})),methods:s()({},Object(a.b)({fetchProducts:"products/fetchProducts",addProductToCart:"cart/addProductToCart"})),created:function(){var t=this;this.loading=!0,this.fetchProducts().then(function(){return t.loading=!1})}},l={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("h1",[t._v("Product List")]),t._v(" "),t.loading?e("img",{attrs:{src:"https://i.imgur.com/JfPpwOA.gif"}}):e("ul",t._l(t.products,function(n){return e("li",{key:n.title},[t._v("\n      "+t._s(n.title)+" - "+t._s(t._f("currency")(n.price))+" -\n      "+t._s(n.inventory)+"\n      "),e("button",{attrs:{disabled:!t.productIsInStock(n)},on:{click:function(e){return t.addProductToCart(n)}}},[t._v("\n        Add to cart\n      ")])])}),0)])},staticRenderFns:[]};var f=e("VU/8")(d,l,!1,function(t){e("ySvA")},"data-v-06ad4dbd",null).exports,p={computed:s()({},Object(a.c)("cart",{products:"cartProducts",total:"cartTotal"}),Object(a.d)("cart",{checkoutStatus:function(t){return t.checkoutStatus}})),methods:s()({},Object(a.b)("cart",["checkout"]))},m={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("h1",[t._v("Shopping Cart")]),t._v(" "),e("ul",t._l(t.products,function(n){return e("li",{key:n.title},[t._v("\n      "+t._s(n.title)+" - "+t._s(t._f("currency")(n.price))+" -\n      "+t._s(n.quantity)+"\n    ")])}),0),t._v(" "),e("p",[t._v("Total: "+t._s(t._f("currency")(t.total)))]),t._v(" "),e("button",{on:{click:t.checkout}},[t._v("Checkout")]),t._v(" "),t.checkoutStatus?e("p",[t._v(t._s(t.checkoutStatus))]):t._e()])},staticRenderFns:[]};var v={name:"HelloWorld",components:{ProductList:f,ShoppingCart:e("VU/8")(p,m,!1,function(t){e("9BiG")},"data-v-db943358",null).exports},data:function(){return{msg:"Welcome to Your Vue.js App"}}},h={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"hello"},[n("h1",[this._v(this._s(this.msg))]),this._v(" "),n("ProductList"),this._v(" "),n("hr"),this._v(" "),n("ShoppingCart")],1)},staticRenderFns:[]};var _=e("VU/8")(v,h,!1,function(t){e("w0NN")},"data-v-16c5a8f4",null).exports;r.a.use(i.a);var y=new i.a({routes:[{path:"/",name:"HelloWorld",component:_}]}),k=[{id:1,title:"iPad 4 Mini",price:500.01,inventory:2},{id:2,title:"H&M T-Shirt White",price:10.99,inventory:10},{id:3,title:"Charli XCX - Sucker CD",price:19.99,inventory:5}],P=function(t){setTimeout(function(){return t(k)},100)},g=function(t,n,e){setTimeout(function(){Math.random()>.5||navigator.userAgent.indexOf("PhantomJS")>-1?n():e()},100)},S={namespaced:!0,state:{items:[],checkoutStatus:null},getters:{cartProducts:function(t,n,e,r){return t.items.map(function(t){var n=e.products.items.find(function(n){return n.id===t.id});return{title:n.title,price:n.price,quantity:t.quantity}})},cartTotal:function(t,n){return n.cartProducts.reduce(function(t,n){return t+n.price*n.quantity},0)}},mutations:{pushProductToCart:function(t,n){t.items.push({id:n,quantity:1})},incrementItemQuantity:function(t,n){n.quantity++},setCheckoutStatus:function(t,n){t.checkoutStatus=n},emptyCart:function(t){t.items=[]}},actions:{addProductToCart:function(t,n){var e=t.state,r=(t.getters,t.commit);t.rootState;if(t.rootGetters["products/productIsInStock"](n)){var c=e.items.find(function(t){return t.id===n.id});c?r("incrementItemQuantity",c):r("pushProductToCart",n.id),r("products/decrementProductInventory",n,{root:!0})}},checkout:function(t){var n=t.state,e=t.commit;g(n.items,function(){e("emptyCart"),e("setCheckoutStatus","success")},function(){e("setCheckoutStatus","fail")})}}},C=e("//Fk"),b=e.n(C),I={namespaced:!0,state:{items:[]},getters:{availableProducts:function(t,n){return t.items.filter(function(t){return t.inventory>0})},productIsInStock:function(){return function(t){return t.inventory>0}}},mutations:{setProducts:function(t,n){t.items=n},decrementProductInventory:function(t,n){n.inventory--}},actions:{fetchProducts:function(t){var n=t.commit;return new b.a(function(t,e){P(function(e){n("setProducts",e),t()})})}}};r.a.use(a.a);var T=new a.a.Store({modules:{cart:S,products:I},state:{},getters:{},actions:{},mutations:{}}),w=/(\d{3})(?=\d)/g;r.a.config.productionTip=!1,r.a.filter("currency",function(t,n,e){if(t=parseFloat(t),!isFinite(t)||!t&&0!==t)return"";n=null!=n?n:"$",e=null!=e?e:2;var r=Math.abs(t).toFixed(e),c=e?r.slice(0,-1-e):r,o=c.length%3,i=o>0?c.slice(0,o)+(c.length>3?",":""):"",u=e?r.slice(-1-e):"";return(t<0?"-":"")+n+i+c.slice(o).replace(w,"$1,")+u}),new r.a({el:"#app",store:T,router:y,components:{App:o},template:"<App/>"})},gsu9:function(t,n){},w0NN:function(t,n){},ySvA:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.6d37ab62bd62a709d806.js.map